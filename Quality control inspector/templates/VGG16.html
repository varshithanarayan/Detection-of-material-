<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Garbage Classification</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->


    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->


<link href="{{ url_for('static', filename='lib/owlcarousel/assets/owl.carousel.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='lib/animate/animate.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css') }}" rel="stylesheet" />
<link href="{{ url_for('static', filename='lib/twentytwenty/twentytwenty.css') }}" rel="stylesheet" />
<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">


</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary m-1" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-dark m-1" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-secondary m-1" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->


    <!-- Topbar Start -->

    <!-- Topbar End -->


    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow-sm px-5 py-3 py-lg-0">
        <a href="#" class="navbar-brand p-0">
            <h1 class="m-0 text-primary"><i class="fa fa-dumpster me-2"></i>Quality ctrl Inspector</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0">
                <a href="#" class="nav-item nav-link">View this in your mobile on <b>{{url}}</b></a>
                <a href="#" class="nav-item nav-link active">Logged in : <b>{{data}}</b></a>
            </div>
            
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- Full Screen Search Start -->
    <div class="modal fade" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content" style="background: rgba(9, 30, 62, .8);">
                <div class="modal-header border-0">
                    <button type="button" class="btn bg-white btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center">
                    <div class="input-group" style="max-width: 600px;">
                        <input type="text" class="form-control bg-transparent border-primary p-3" placeholder="Type search keyword">
                        <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

     <div class="container-fluid bg-primary py-5 hero-header mb-5">
        <div class="row py-3">
            <div class="col-12 text-center">
                <h1 class="display-3 text-white animated zoomIn">VGG-16 Model for Garbage Classification</h1>
            </div>
        </div>
    </div>
 <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-8">
                    <div class="section-title mb-4">
                        <h5 class="position-relative d-inline-block text-primary text-uppercase">Principle</h5>
                        <h1 class="display-5 mb-0">Contains 16 layers - 13 convolution Layers and 3 Fully Connected Layers</h1>
                    </div>
                    <p class="mb-4">A stack of multiple (usually 1, 2, or 3) convolution layers of filter size 3 x 3, stride one, and padding 1, followed by a max-pooling layer of size 2 x 2, is the basic building block for all of these configurations. Different configurations of this stack were repeated in the network configurations to achieve different depths.The number associated with each of the configurations is the number of layers with weight parameters in them.</p>
                    <h5 class="text-uppercase text-primary wow fadeInUp" data-wow-delay="0.3s">Memo From Trainer =  {{train_memo}}</h5>
                </div>
              
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function() {
        $('#showOutput').click(function() {
            $('#showOutput').fadeOut(500);
            $('#inputImage').fadeOut(500);
            $('#loadingSpinner').show();
            $.ajax({
                url: '/get_image',
                type: 'GET',
                xhrFields: {
                    responseType: 'blob'
                },
                success: function(blob) {
                    var url = URL.createObjectURL(blob);
                    $('#loadingSpinner').hide();
                    $('#imageContainer').html('<img src="' + url + '" alt="Output" data-wow-delay="0.5s">');
                    $('#output_text').html('<h1 class="display-5 mb-5">Your Output</h1>')
                },
                error: function(error) {
                    console.error(error);
                }
            });
        });
    });
    </script>
    
        <!-- Projects Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.1s" style="max-width: 500px;">
                    <p class="fs-5 fw-bold text-primary">TESTS</p>
      <style>
    
    
        h1 {
          text-align: center;
          margin-bottom: 20px;
        }
    
        table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 20px;
        }
    
        th, td {
          padding: 10px;
          text-align: left;
          border: 1px solid #428bca;
        }
    
        th {
          background-color: #f5f5f5;
          font-weight: bold;
        }
    
        .uploaded-image {
          max-width: 150px;
          max-height: 150px;
          display: block;
          margin-top: 10px;
        }
    
        @media (max-width: 480px) {
          th, td {
            display: block;
            width: 100%;
          }
        }
    
    
        button:hover {
          background-color: #45a049;
        }
      </style>
        <h1>Your Tests</h1>
        <table id="file-table">
            <thead>
                <tr>
                    <th>Serial No.</th>
                    <th>Input Image</th>
                    <th>Result</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for row in tests %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td><img src="{{ row.input_image }}" alt="Input Image" height="150" width="150"></td>
                    <td>{{ row.output_image}}</td>
                    <td style="width:150px">{{ row.status }}</td>
                </tr>
                {% endfor %}
                <tr id="row1">
                    <form action="{{ url_for('VGG16_predict') }}" method="POST" enctype="multipart/form-data">
                        <td></td>
                        <td><input type="file" name="file" class="form-control border-0 bg-light px-4" accept=".jpg, .png, .jpeg" onchange="displayImage(event, 'row1')"></td>
                        <td class="uploaded-image-container"></td>
                        <td><div id="loadingSpinner" class="spinner-border text-primary" role="status" style="display: none;">
                            <span class="sr-only">Loading...</span></div><button id="showOutput" class="btn btn-primary py-3 px-4" type="submit">Add</button></td>
                    </form>
                </tr>
            </tbody>
        </table>
        
        <script>
            var inputImage = document.querySelector('input[name="input_image"]');
            inputImage.addEventListener('change', previewImage);
        </script>
            <script>
                function previewImage(event) {
                    var outputImage = document.getElementById('outputImage');
                    outputImage.src = URL.createObjectURL(event.target.files[0]);
                    outputImage.onload = function() {
                        URL.revokeObjectURL(outputImage.src);  // Release the object URL after loading the image
                    };
                }
                
                function displayImage(event, rowId) {
          const file = event.target.files[0];
          const reader = new FileReader();
    
          reader.onload = function(e) {
            const row = document.getElementById(rowId);
            const img = document.createElement("img");
            img.src = e.target.result;
            img.className = "uploaded-image";
            row.getElementsByClassName("uploaded-image-container")[0].appendChild(img);
          }
          reader.readAsDataURL(file);
        }
            </script>        
    <script>
        $(document).ready(function() {
        $('#showOutput').click(function() {
            $('#loadingSpinner').show();
        });
    });
    </script>
        
        <form action = "{{url_for('save_memo_vgg16')}}" method="post">
            <label>Save Test Memo</label><br>
            <input type="text" class="form-control border-0 bg-light px-4" name='memo' placeholder="Your Memo" style="height: 55px;border-radius: 10px"><br>
            <button class="btn btn-primary w-100 py-3" type="submit" name='submit' style="border-radius: 10px">Save Memo</button>
        </form>
    </div>
        </div>
        </div>
  

     <div class="container-fluid text-light py-4" style="background: #051225;">
        <div class="container">
            <div class="row g-0">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-md-0">&copy; <a class="text-white border-bottom" href="#">Garbage Classification</a>. All Rights Reserved.</p>
                </div>
                
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='lib/wow/wow.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/easing/easing.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/waypoints/waypoints.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/owlcarousel/owl.carousel.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/tempusdominus/js/moment.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/tempusdominus/js/moment-timezone.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/twentytwenty/jquery.event.move.js')}}"></script>
    <script src="{{ url_for('static', filename='lib/twentytwenty/jquery.twentytwenty.js')}}"></script>

    <!-- Template Javascript -->
    <script src="{{ url_for('static', filename='js/main.js')}}"></script>
</body>

</html>